"""Classe personnalis√©e pour surcharger UPSTILatexDocument.

INSTRUCTIONS D'UTILISATION
===========================

1. Copiez ce fichier en le renommant 'document.py' (sans l'extension .template)
2. Ajoutez votre logique personnalis√©e dans la classe CustomUPSTILatexDocument
3. pyUPSTIlatex utilisera automatiquement votre classe personnalis√©e

IMPORTANT
=========

- La classe DOIT s'appeler 'CustomUPSTILatexDocument'
- Elle DOIT h√©riter de UPSTILatexDocument (import√©e depuis pyupstilatex.document)
- Le fichier doit se nommer exactement 'document.py'
- Ne cr√©ez PAS de __init__.py dans le dossier custom/
"""

from pyupstilatex.document import UPSTILatexDocument


class CustomUPSTILatexDocument(UPSTILatexDocument):
    """Classe personnalis√©e pour ajouter des fonctionnalit√©s √† UPSTILatexDocument.

    Exemples de personnalisations possibles :
    - Ajouter des m√©thodes de traitement suppl√©mentaires
    - Modifier le comportement de compilation
    - Ajouter des validations sp√©cifiques
    - Personnaliser les messages ou logs
    - Impl√©menter des hooks de pre/post-traitement
    """

    # =========================================================================
    # EXEMPLE 1 : Surcharge d'une m√©thode existante
    # =========================================================================

    # def compile(
    #     self,
    #     version: str = "eleve",
    #     clean: bool = False,
    #     output_dir: Optional[str] = None,
    # ) -> None:
    #     """Compilation avec log personnalis√©.
    #
    #     Exemple de surcharge qui ajoute un message avant/apr√®s compilation.
    #     """
    #     self.msg.info(f"üöÄ D√©but de compilation personnalis√©e : {self.source}")
    #     
    #     # Appel de la m√©thode parente
    #     super().compile(version=version, clean=clean, output_dir=output_dir)
    #     
    #     self.msg.success("‚úÖ Compilation personnalis√©e termin√©e !")

    # =========================================================================
    # EXEMPLE 2 : Ajout d'une nouvelle m√©thode
    # =========================================================================

    # def validate_metadata(self) -> bool:
    #     """Validation personnalis√©e des m√©tadonn√©es.
    #
    #     Returns
    #     -------
    #     bool
    #         True si les m√©tadonn√©es sont valides, False sinon.
    #     """
    #     metadata = self.metadata
    #     
    #     # Exemple : v√©rifier qu'un champ sp√©cifique existe
    #     if "thematique" not in metadata:
    #         self.msg.warning("‚ö†Ô∏è Champ 'thematique' manquant dans les m√©tadonn√©es")
    #         return False
    #     
    #     return True

    # =========================================================================
    # EXEMPLE 3 : Hook de post-traitement
    # =========================================================================

    # def post_compile_hook(self, compiled_files: List[Path]) -> None:
    #     """Hook appel√© apr√®s compilation.
    #
    #     Parameters
    #     ----------
    #     compiled_files : List[Path]
    #         Liste des fichiers PDF g√©n√©r√©s.
    #     """
    #     self.msg.info(f"üìÑ {len(compiled_files)} fichier(s) compil√©(s)")
    #     
    #     # Exemple : copier les PDFs dans un dossier sp√©cifique
    #     custom_output = Path("~/MesDocuments/UPSTI/Output").expanduser()
    #     custom_output.mkdir(parents=True, exist_ok=True)
    #     
    #     for pdf_file in compiled_files:
    #         shutil.copy2(pdf_file, custom_output / pdf_file.name)
    #         self.msg.info(f"üìã Copi√© : {pdf_file.name}")

    pass  # Supprimer ce 'pass' si vous d√©commentez les m√©thodes ci-dessus
